generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model DailySales {
  id              String   @id @default(uuid())
  shiftDate       DateTime
  cashSales       Float
  qrSales         Float
  grabSales       Float
  aroiDeeSales    Float
  discounts       Float
  refunds         Float
  expenses        Json     // [{ item: string, amount: number }]
  amountBanked    Float
  notes           String?
  createdAt       DateTime @default(now())
  
  // Relation to DailyStock
  stock           DailyStock?
}

model DailyStock {
  id             String   @id @default(uuid())
  salesFormId    String   @unique
  salesForm      DailySales @relation(fields: [salesFormId], references: [id])
  burgerBuns     Int
  meatGrams      Int
  drinks         Json     // e.g. { "Coke": 12, "Sprite": 7 }
  ingredients    Json     // e.g. { "Lettuce": 2, "Mayo": 1 }
  createdAt      DateTime @default(now())
}