ğŸ” REPLIT AGENT â€” LIVE & BACKEND TESTING INSTRUCTIONS
READ CAREFULLY. DO NOT SKIP STEPS. DO NOT IMPROVISE.
These tests must be executed after merging the mega patch.
If any step fails, STOP immediately and report the exact failure.
Do not â€œfix forwardâ€ without approval.
âš ï¸ ABSOLUTE RULES
âŒ Do NOT modify UI
âŒ Do NOT modify schema during testing
âŒ Do NOT seed fake data unless instructed
âŒ Do NOT bypass validation
âŒ Do NOT assume success without evidence
âœ… Report results step-by-step
PART A â€” ENVIRONMENT & DATABASE (MANDATORY FIRST)
A1. Environment variables
Confirm all required env vars are set in Replit:
DATABASE_URL
Any existing required API keys (do NOT add new ones)
If DATABASE_URL is missing â†’ STOP
A2. Run migrations
Execute migrations exactly once.
Confirm:
Product table exists
No migration errors
No schema drift warnings
If migration fails â†’ STOP
PART B â€” BACKEND VERIFICATION (NO UI)
B1. Product table sanity check
Using DB inspector or logs:
Confirm Product table exists
Confirm columns:
recipeId
baseCost
imageUrl
priceOnline
isActive
isVisibleOnline
If missing â†’ STOP
B2. API: Online product feed (empty state)
Call:
Copy code

GET /api/online/products
Expected result:
200 OK
Empty array []
âŒ Error
âŒ Non-empty data
â†’ STOP
This confirms guardrails are working.
PART C â€” RECIPE VALIDATION TEST (FOUNDATIONAL)
C1. Open Recipe Management
Open any existing recipe (simple one preferred)
Verify UI behaviour:
Quantity field = quantity per portion
Unit label is derived and read-only
Unit matches ingredient base unit (g / ml / each)
â€œeachâ€ does NOT appear unless ingredient baseUnit = each
If unit editable or ambiguous â†’ STOP
C2. Validation test (negative)
Attempt to:
Enter non-numeric quantity
Enter zero or empty value
Expected:
Save is blocked
Clear validation error shown
If recipe saves â†’ STOP
C3. Validation test (positive)
Enter valid quantities
Set serves value
Save recipe
Expected:
Save succeeds
Cost recalculates deterministically
If cost does not update â†’ STOP
PART D â€” RECIPE â†’ PRODUCT PROMOTION
D1. Promote recipe
From Recipe screen:
Click Create Product from Recipe
Expected Product state:
Exists
isActive = false
isVisibleOnline = false
baseCost populated
price fields empty
imageUrl empty
If product auto-activates â†’ STOP
PART E â€” PRODUCT EDITOR GUARDRAILS
E1. Attempt early activation (negative)
Without image or price:
Attempt to activate product
Expected:
Activation blocked
Clear message explaining whatâ€™s missing
If activation allowed â†’ STOP
E2. Complete product (positive)
Upload image
Set priceOnline > 0
Save
Then:
Toggle isActive = true
Toggle isVisibleOnline = true
Expected:
Save succeeds
No errors
baseCost remains read-only
If baseCost editable â†’ STOP
PART F â€” ONLINE FEED (CRITICAL)
F1. API: Online product feed (active state)
Call:
Copy code

GET /api/online/products
Expected:
Exactly 1 product
Includes:
name
description (if set)
imageUrl
priceOnline
category
âŒ Inactive products returned
âŒ Missing image or price
â†’ STOP
PART G â€” ONLINE ORDERING UI (LIVE)
G1. Load Online Ordering UI
Open Online Ordering v2 frontend.
Expected:
UI loads (no â€œUnavailableâ€)
Product is visible
Image loads
Price correct
â€œPlace Orderâ€ enabled
If UI still shows unavailable â†’ STOP
G2. Place order (smoke test)
Place a single order
Expected:
Order created successfully
No client errors
PART H â€” ADMIN & KITCHEN FLOW
H1. Admin Orders
Open Admin Orders page.
Expected:
New order visible
Correct product name
Correct price
H2. Status update
Change order status (e.g. Preparing â†’ Completed)
Expected:
Status updates persist
No errors
PART I â€” FINAL CONFIRMATION
Agent must report:
âœ… All steps passed
âŒ OR exact step number + failure details
DO NOT declare success without completing ALL parts.
ğŸš¨ FAILURE HANDLING
If any step fails:
STOP immediately
Do NOT push fixes
Report:
Step ID (e.g. F1)
Error message
Screenshot or log output if available
âœ… SUCCESS CONDITION (ONLY THIS)
System is considered LIVE only when:
One product is visible online
Order can be placed
Order appears in admin
No UI changes were require