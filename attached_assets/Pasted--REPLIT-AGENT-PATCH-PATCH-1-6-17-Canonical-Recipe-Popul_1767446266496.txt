üîê REPLIT AGENT PATCH ‚Äî PATCH 1.6.17
Canonical Recipe Population (Portion-Based Consumption)
üéØ OBJECTIVE (LOCKED)
Populate all Smash Brothers Burgers recipes using the canonical recipe model:
Recipes consume ingredient portions
Purchasing remains pack-based
Costs derive automatically via
(unit_cost / purchase_unit_qty) √ó portion_qty
This patch ONLY inserts recipes + ingredients.
No pricing hacks. No UI changes. No purchasing edits.
üö´ ABSOLUTE RULES
‚ùå DO NOT add portion sizes to purchasing items
‚ùå DO NOT hardcode costs
‚ùå DO NOT modify purchasing logic
‚ùå DO NOT touch Daily Sales / Stock forms
‚ùå DO NOT infer new ingredients ‚Äî use existing ones only
‚úÖ PRECONDITIONS (ASSUMED TRUE)
These ingredients already exist in purchasing_items and ingredient master:
Burger Bun
Beef Patty (95g unit defined via purchase_unit_qty)
Chicken Fillet
Karaage Chicken
Cheese Slice
American Cheese Sauce
Burger Sauce
Chipotle Mayo
Mayonnaise
Pickles
Tomatoes
Salad (Iceberg)
Raw Onion
Jalape√±os
French Fries 7mm
Smoked Bacon Bits
Crunchy Fried Onions
Coleslaw
Japanese Chili Powder
If any are missing ‚Üí log and skip, do NOT create new ones.
üß± EXECUTION STEPS
1Ô∏è‚É£ DELETE EXISTING RECIPES (CLEAN SLATE)
Call:
Copy code

DELETE /api/recipe-authority/:id
for all existing Smash Brothers recipes to avoid duplicates.
2Ô∏è‚É£ INSERT RECIPES (ONE BY ONE)
For each recipe:
Create recipe in recipe_authority
Insert ingredients into recipe_ingredient
qty = portion consumption only
Units are logical, not purchasing-based
üçî RECIPE DEFINITIONS (SOURCE OF TRUTH)
üü® SINGLE SMASH BURGER
Burger Bun √ó1
Beef Patty √ó1 (95g)
Cheese Slice √ó1
Pickles √ó5
Raw Onion Rings √ó3
Burger Sauce √ó2 servings
üü® DOUBLE SMASH BURGER
Burger Bun √ó1
Beef Patty √ó2 (95g each)
Cheese Slice √ó2
Pickles √ó5
Raw Onion Rings √ó3
Salad √ó1
Tomato Slices √ó2
Burger Sauce √ó2 servings
üü® TRIPLE SMASH BURGER
Burger Bun √ó1
Beef Patty √ó3 (95g each)
Cheese Slice √ó3
Pickles √ó5
Raw Onion Rings √ó3
Salad √ó1
Tomato Slices √ó2
Burger Sauce √ó2 servings
üçü LOADED FRIES
French Fries 7mm √ó150g
Burger Sauce √ó1 serving
Pickles √ó5
Raw Onion Rings √ó3
Cheese Slice √ó1
üßÄ CHEESY BACON FRIES
French Fries 7mm √ó150g
American Cheese Sauce √ó2 servings
Smoked Bacon Bits √ó1 serving
Crunchy Fried Onions √ó1 serving
üçó CHICKEN FILLET BURGER
Burger Bun √ó1
Chicken Fillet √ó3 pieces
Cheese Slice √ó1
Salad √ó1
Tomato Slices √ó2
Mayonnaise √ó1 serving
Burger Sauce √ó1 serving
üå∂Ô∏è EL-SMASHO CHICKEN BURGER
Burger Bun √ó1
Chicken Fillet √ó3 pieces
Cheese Slice √ó1
Coleslaw √ó1
Jalape√±os √ó5
Chipotle Mayo √ó2 servings
üçó KARAAGE CHICKEN BURGER
Burger Bun √ó1
Karaage Chicken √ó5 pieces
Pickles √ó5
Coleslaw (dry) √ó1
Burger Sauce √ó2 servings
Japanese Chili Powder √ó1 light dusting
üßÆ COST CALCULATION (DO NOT IMPLEMENT ‚Äî ALREADY EXISTS)
Recipe cost must resolve automatically via:
Copy code

(unitCost / purchase_unit_qty) √ó portion_qty
No overrides. No rounding hacks.
‚úÖ SUCCESS CRITERIA
Cajun Fries ‚âà ‡∏ø9‚Äì10
Smash burgers show sane, low per-unit food cost
No recipe exceeds pack price
/api/recipes reflects live calculated costs
No grams / ml appear in Purchasing UI
üß† FINAL NOTE TO AGENT
This is a data population patch, not a systems patch.
If something is unclear:
Log it
Skip it
Do NOT invent logic