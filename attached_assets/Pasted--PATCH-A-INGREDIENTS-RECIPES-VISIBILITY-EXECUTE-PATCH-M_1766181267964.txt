ğŸ” PATCH A â€” INGREDIENTS & RECIPES VISIBILITY (EXECUTE)
ğŸ“Œ PATCH METADATA
PROJECT: Final Dashboard 4.0
PATCH NAME: Ingredients & Recipes â€“ Data Wiring + Visibility
SCOPE: Frontend data wiring only
RISK LEVEL: LOW
CHANGE TYPE: Visibility / Wiring
EXPECTED RESULT: Ingredient list and recipe list actually display data
ğŸš« HARD STOPS (NON-NEGOTIABLE)
Agent MUST NOT:
Modify backend APIs
Modify database schema
Modify Recipes logic
Modify Ingredients logic
Add new features
Refactor components
Touch Daily Sales / Stock
Touch Online Ordering
If data is missing â†’ WIRE EXISTING API ONLY, do not invent.
ğŸ¯ OBJECTIVE
Ensure that:
Ingredients Master page shows ingredient rows
Recipes page shows recipe rows
Empty states are only shown if API returns empty
Pages no longer look â€œunfinishedâ€
ğŸ“ FILES ALLOWED TO TOUCH (STRICT)
Ingredients
âœ… client/src/pages/operations/ingredients-master.tsx (or equivalent Ingredients Master page)
Recipes
âœ… client/src/pages/menu/recipes-master.tsx (or equivalent Recipes page)
âŒ Any other files â†’ DO NOT TOUCH
ğŸ§© PATCH A â€” EXECUTION STEPS
STEP 1 â€” INGREDIENTS MASTER: DATA FETCH WIRING
In the Ingredients Master page:
Confirm the page mounts successfully
Wire it to the existing ingredients endpoint
(do NOT create a new one)
Expected existing API (one of these already exists):
Copy code
Ts
GET /api/ingredients
OR
GET /api/ingredients/master
On mount:
Copy code
Ts
useEffect(() => {
  fetchIngredients();
}, []);
Render returned ingredient rows in a table or list:
Copy code
Ts
ingredients.map(ingredient => (
  <tr key={ingredient.id}>
    <td>{ingredient.name}</td>
    <td>{ingredient.category}</td>
    <td>{ingredient.unit}</td>
    <td>{ingredient.cost}</td>
  </tr>
));
âš ï¸ If the API returns data but UI is empty â†’ fix the mapping, not the API.
STEP 2 â€” INGREDIENTS EMPTY STATE (ONLY IF TRULY EMPTY)
Only show â€œNo ingredients foundâ€ if:
Copy code
Ts
ingredients.length === 0
âŒ Do NOT show placeholder text if data exists.
STEP 3 â€” RECIPES MASTER: DATA FETCH WIRING
In the Recipes Master page:
Wire to the existing recipes endpoint:
Copy code
Ts
GET /api/recipes
OR
GET /api/recipes/master
On mount:
Copy code
Ts
useEffect(() => {
  fetchRecipes();
}, []);
Render recipe list:
Copy code
Ts
recipes.map(recipe => (
  <tr key={recipe.id}>
    <td>{recipe.name}</td>
    <td>{recipe.category}</td>
    <td>{recipe.ingredients.length}</td>
  </tr>
));
No editing controls.
Read-only only.
STEP 4 â€” REMOVE PLACEHOLDER UI
If either page contains:
Dummy arrays
Mock data
â€œComing soonâ€
Commented-out renders
â†’ REMOVE OR BYPASS THEM
Pages must render real data or real empty state.
ğŸ§ª VERIFICATION (MANDATORY)
Agent must verify:
/operations/ingredients-master shows ingredient rows
/menu/recipes shows recipe rows
No console errors
No API changes
No blank pages unless data truly empty
ğŸ§¾ AGENT FINAL RESPONSE (STRICT)
Agent must reply only with:
PATCH A COMPLETE â€” Ingredients & Recipes visible
or
BLOCKED â€” <exact technical reason>
No commentary.
ğŸ”’ END PATCH A